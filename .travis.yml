language: java
sudo: false
install:
- wget http://services.gradle.org/distributions/gradle-4.5.1-bin.zip
- unzip -qq gradle-4.5.1-bin.zip
- GRADLE_HOME=$PWD/gradle-4.5.1
- export PATH=$GRADLE_HOME/bin:$PATH
jdk:
- oraclejdk8
- oraclejdk9
before_cache:
- rm -f  $HOME/.gradle/caches/modules-2/modules-2.lock
- rm -fr $HOME/.gradle/caches/*/plugin-resolution/
cache:
  directories:
  - "$HOME/.gradle/caches/"
  - "$HOME/.m2/repository"
  - "$HOME/.sonar/cache"
  - "$HOME/.gradle"
  - ".gradle"
addons:
  sonarcloud:
    organization: rafalkrupinski-github
    token:
      secure: I2shQDZ1u6BJJHOGgz5KHy44DrN4b8EdFQ6oYrNecS5cczGw+rAx9i5tfNrenNPv7v3MRAimBPH4EeMetjVEbSumwchIWkkySpupgZPa75tfRko54CyUgu9qCsT08r7N8+GQsflY3ZdsQVOSLRC7uFKEp+lCiMS1tMepTVKisLF11kUTwdcHxyd/fX0X0Fabt/jfw7DIw1YjItXM6AERBZb8BAYKeQVe58qZYUTdKlmQJYFSR4X7v4sH/PLZVwoyluSeO4m21HLnd5VjomleIwY+frGnJMuiZyV77mVgq9KD4hvuLQhzglvfyIwGi4MQ6pttKqsG5yxCUe+Z0wH9gBcNTB/TsT628Q/40s+AD53icS94VjubObJhQahFIBIJxiPfZkxDMoro1Nj8AsqTALxh5C8cRZGo/K1e3a3rIVEXsfqRWh8OOxMUNgAl0Xe/e7RN7WrpZf5mv4PfftfYFsDsoZhIiZ7x+HJiutpaUAsLPo+xIH83bg9EhwpMkG/mlcHh84azpqQ5ZlW8berO4GJEXL7RGRv7IBhJt4OzLnlyLj+9ZDre+dfO9iveGykSa7TURZnf8oiBucQHm8qRONDZt+C0PHTDBrpNm2kFJMOqzukruGB5zMD5dlYTjZi2SaCIazO0axK6eK7Qh7T+UOjHqlE2tNx+7GzdeBQegjM=
script:
- gradle gather
- gradle sonarqube
notifications:
  email:
    on_success: change
    on_failure: change
